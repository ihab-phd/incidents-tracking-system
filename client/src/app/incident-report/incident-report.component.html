<label class="label-title-2">Incident Details</label>

<table class="table-incidents">
  <tr *ngIf="!this.isNew && this.authService.user.isTracker">
    <td style="width: 50%; text-align: right">
      <label class="label-txt">User:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <input class="input-txt" placeholder="user" [(ngModel)]="incident.userName" disabled="disabled">
    </td>
  </tr>

  <tr *ngIf="!this.authService.user.isTracker">
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Tracker:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <input class="input-txt" placeholder="tracker" [(ngModel)]="incident.trackerName"  [disabled]="!this.isNew">
    </td>
  </tr>

  <tr>
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Date of incident:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <input type="date" class="input-txt" [(ngModel)]='incident.date'/>
    </td>
  </tr>

  <tr>
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Type:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <select [(ngModel)]="incident.type">
        <option value="Information Related">Information Related</option>
        <option value="Non-Information Related">Non-Information Related</option>
      </select>
    </td>
  </tr>

  <tr>
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Short description:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <input class="input-txt" placeholder="short description" [(ngModel)]="incident.short_desc">
    </td>
  </tr>

  <tr>
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Detailed description:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <input class="input-txt" placeholder="detailed description" [(ngModel)]="incident.detailed_desc">
    </td>
  </tr>

  <tr>
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Cost:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <input class="input-txt" placeholder="cost" [(ngModel)]="incident.cost">
    </td>
  </tr>

  <tr>
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Class:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <select [(ngModel)]="incident.class">
        <option value="Security Weakness">Security Weakness</option>
        <option value="Minor Incident">Minor Incident</option>
        <option value="Major Incident">Major Incident</option>
      </select>
    </td>
  </tr>

  <tr *ngIf="!this.isNew">
    <td style="width: 50%; text-align: right">
      <label class="label-txt">Resolution:</label>
    </td>
    <td style="width: 50%; text-align: left">
      <input class="input-txt" placeholder="resolution" [(ngModel)]="incident.resolution" [disabled]="this.isNew || !this.authService.user.isTracker">
    </td>
  </tr>

  <tr>
    <td style="width: 50%; text-align: right">
      <button class="button-sign" *ngIf="isNew" (click)="newIncident()">New</button>

      <button class="button-sign" *ngIf="!isNew" (click)="updateIncident()">Save</button>
    </td>
    <td style="width: 50%; text-align: left">
      <button class="button-sign" (click)="goBack()">Back</button>
    </td>
  </tr>

</table>